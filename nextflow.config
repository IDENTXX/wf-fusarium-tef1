manifest {
  name        = "wf-fusarium-tef1-metabarcoding"
  author      = "Your Name / Lab"
  description = "Metabarcoding workflow for Fusarium TEF1 (EF-1Î±) using ONT reads already separated per barcode/sample."
}

params {
  // Required
  reads     = null          // directory-path
  db_fasta  = null          // file-path (TEF1 reference FASTA)

  // Output
  out_dir   = "output"

  // Primers (optional but recommended)
  primer_fwd       = ""     // e.g. EF1 / EF1-728F ...
  primer_rev       = ""     // e.g. EF2 / EF1-986R ...
  require_primers  = true
  trim_error_rate  = 0.12

  // Filtering
  min_q    = 9
  min_len  = 300
  max_len  = 1200

  // Clustering
  cluster_id        = 0.90
  min_cluster_reads = 20

  // BLAST
  blast_topn = 5
}

process {
  cpus   = 4
  memory = '4 GB'
  time   = '2h'
  errorStrategy = 'terminate'
}

docker.enabled = true

// Make bash stricter (helps debugging)
process.shell = ['/bin/bash', '-euo', 'pipefail', '-c']

profiles {
  standard { }
}
